{"version":3,"names":[],"mappings":"","sources":["services/fm-fundData-service.js"],"sourcesContent":["(function () {\r\n  'use strict';\r\n\r\n  angular.module('fm').service('fmFundDataService', ['$http', '$q', 'fmConfig', fmFundDataService]);\r\n\r\n  function fmFundDataService($http, $q, fmConfig) {\r\n\r\n    function loadFundData(urlIn) {\r\n      var url = urlIn,\r\n          deferred = $q.defer();\r\n\r\n      $http.get(url).then(onSuccess, onError);\r\n\r\n      function onSuccess(res) {\r\n        var fundItems = res.data;\r\n        deferred.resolve(fundItems);\r\n      }\r\n\r\n      function onError(res) {\r\n        deferred.reject(res);\r\n      }\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    return {\r\n      getFunds: function () {\r\n        var url = fmConfig.webAPI.url + 'api/Fund?$expand=FundInfo';\r\n        return loadFundData(url);\r\n      },\r\n      getFundById: function (id) {\r\n        var url = fmConfig.webAPI.url + 'api/Fund?$filter=Id%20eq%20' + id + '&$expand=FundInfo';\r\n        return loadFundData(url);\r\n      },\r\n      getNextLinks: function (nextLinks) {\r\n        var url = nextLinks;\r\n        return loadFundData(url);\r\n      },\r\n      getResultsPage: function (pageNumber) {\r\n        var url = fmConfig.webAPI.url + 'api/Fund?$expand=FundInfo&$skip=' + (pageNumber * 10);\r\n        return loadFundData(url);\r\n      }\r\n    };\r\n  }\r\n\r\n})();"],"file":"services/fm-fundData-service.js","sourceRoot":"/source/"}