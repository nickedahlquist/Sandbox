{"version":3,"names":[],"mappings":"","sources":["directives/fm-navbar-directive/fm-navbar-directive.js"],"sourcesContent":["(function() {\r\n    'use strict';\r\n\r\n    angular.module('fm').directive('fmNavbar', ['$rootScope', '$navlinksService', 'fmAuthtokenFactory', 'fmDataService', function ($rootScope, $navlinksService, fmAuthtokenFactory, fmDataService) {\r\n\r\n      return {\r\n        restrict: 'E',\r\n        templateUrl: 'views/fm-navbar-view.html',\r\n        link: function (scope, elem, attrs) {\r\n\r\n          scope.navbarlinks = $navlinksService.links;\r\n\r\n          scope.isAuthenticated = function () {\r\n            return fmAuthtokenFactory.isAuthenticated();\r\n          }\r\n\r\n          scope.logOut = function () {\r\n            fmAuthtokenFactory.removeToken();\r\n          }\r\n\r\n          // Modal\r\n          var modal       = $('#fm-fund-modal'),\r\n              searchField = modal.find('#fm-fund-modal-seach');\r\n\r\n          scope.openModal = function () {\r\n            modal.addClass('modal-open');\r\n            searchField.focus();\r\n          };\r\n\r\n          scope.closeModal = function () {\r\n            modal.removeClass('modal-open');\r\n          };\r\n\r\n          scope.searchItems = [];\r\n\r\n          fmDataService.then(function (data) {\r\n            scope.funds = data.funds;\r\n            scope.newsitems = data.newsitems;\r\n            \r\n\r\n            for (var key in scope.funds) {\r\n              if (scope.funds.hasOwnProperty(key)) {\r\n                var fundItem = { title: scope.funds[key].manager, type: 'fund'};\r\n                scope.searchItems.push(fundItem);\r\n              }\r\n            }\r\n\r\n            for (var key in scope.newsitems) {\r\n              if (scope.newsitems.hasOwnProperty(key)) {\r\n                var newsItem = { title: scope.newsitems[key].headline, type: 'news' };\r\n                scope.searchItems.push(newsItem);\r\n              }\r\n            }\r\n\r\n            console.log(scope.searchItems);\r\n\r\n          });\r\n\r\n          \r\n\r\n\r\n        }\r\n      }\r\n\r\n    }]);\r\n\r\n})();"],"file":"directives/fm-navbar-directive/fm-navbar-directive.js","sourceRoot":"/source/"}