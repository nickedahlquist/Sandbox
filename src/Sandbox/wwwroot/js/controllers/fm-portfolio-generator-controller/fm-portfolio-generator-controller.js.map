{"version":3,"names":[],"mappings":"","sources":["controllers/fm-portfolio-generator-controller/fm-portfolio-generator-controller.js"],"sourcesContent":["(function () {\r\n  'use strict';\r\n\r\n  // Setup routing.\r\n  angular.module('fm').config(['$stateProvider', function ($stateProvider) {\r\n\r\n    $stateProvider\r\n      .state('Portfölj', {\r\n        url: '/Portfölj',\r\n        controller: 'FmPortfolioGeneratorCtrl',\r\n        controllerAs: 'fmPortfolio',\r\n        templateUrl: 'views/fm-portfolio-generator-view.html',\r\n        resolve: {\r\n          $title: function () {\r\n            return 'Portfölj';\r\n          }\r\n        },\r\n        sortOrder: 4\r\n      });\r\n\r\n  }]);\r\n\r\n  // Register controller.\r\n  angular.module('fm').controller('FmPortfolioGeneratorCtrl', [FmPortfolioGeneratorCtrl]);\r\n\r\n  // Define controller-function.\r\n  function FmPortfolioGeneratorCtrl() {\r\n\r\n    /* jshint validthis: true */\r\n    var vm = this;\r\n\r\n    vm.steps = {\r\n      totalSteps: [\r\n        {\r\n          stepTitle: 'Ange uppgifter'\r\n        },\r\n        {\r\n          stepTitle: 'Välj fondpaket'\r\n        },\r\n        {\r\n          stepTitle: 'Välj vad du vill göra'\r\n        },\r\n        {\r\n          stepTitle: 'Skapa portfölj'\r\n        }],\r\n      currentStep: 1,\r\n    };\r\n\r\n    var userInputs = $('.user-input input');\r\n\r\n    userInputs.on('keydown', function (event) {\r\n      var permittedKeys = [8, 16, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57];\r\n\r\n      if (_.contains(permittedKeys, event.keyCode)) {\r\n        return;\r\n      } else {\r\n        event.preventDefault();\r\n      }\r\n    });\r\n\r\n    \r\n    vm.nextStep = function () {\r\n      //vm.steps.currentStep = (vm.steps.currentStep >= vm.steps.totalSteps.length) ? 1 : vm.steps.currentStep + 1;\r\n      if (vm.steps.currentStep < vm.steps.totalSteps.length) {\r\n        vm.steps.currentStep += 1;\r\n      }\r\n    };\r\n\r\n    vm.previousStep = function () {\r\n      if (vm.steps.currentStep <= vm.steps.totalSteps.length && vm.steps.currentStep > 1) {\r\n        vm.steps.currentStep -= 1;\r\n      }\r\n    };\r\n\r\n    vm.userData = {\r\n      age: {\r\n        value: undefined,\r\n        errorMessage: undefined\r\n      },\r\n      income: {\r\n        value: undefined,\r\n        errorMessage: undefined\r\n      }\r\n    };\r\n\r\n    vm.userModel = {\r\n      age: undefined,\r\n      income: undefined\r\n    };\r\n\r\n    vm.validateAge = function () {\r\n\r\n      var age = parseInt(vm.userData.age.value);\r\n      vm.userData.age.errorMessage = undefined;\r\n      \r\n      if (age < 18) {\r\n        vm.userData.age.errorMessage = 'Du måste vara minst 18 år gammal';\r\n      } else {\r\n        vm.userModel.age = age;\r\n      }\r\n\r\n    };\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // Theme\r\n    Highcharts.theme = {\r\n      colors: ['#DF574B', '#2ABBAE', '#22968b', '#7fd6ce']\r\n    };\r\n    // Theme:end\r\n    Highcharts.setOptions(Highcharts.theme);\r\n\r\n    var chartOptions = {\r\n      chart: {\r\n        plotBackgroundColor: null,\r\n        plotBorderWidth: null,\r\n        plotShadow: false,\r\n        type: 'pie'\r\n      },\r\n      credits: {\r\n        enabled: false\r\n      },\r\n      exporting: {\r\n        enabled: false\r\n      },\r\n      title: {\r\n        text: null\r\n      },\r\n      tooltip: {\r\n        pointFormat: null\r\n      },\r\n      plotOptions: {\r\n        pie: {\r\n          allowPointSelect: true,\r\n          borderWidth: 0,\r\n          cursor: 'pointer',\r\n          innerSize: '30%',\r\n          dataLabels: {\r\n            enabled: false,\r\n          }\r\n        }\r\n      },\r\n      series: [{\r\n        name: 'Brands',\r\n        colorByPoint: true,\r\n        data: [{\r\n          name: null,\r\n          y: 18.00\r\n        }, {\r\n          name: null,\r\n          y: 42.00\r\n        }, {\r\n          name: null,\r\n          y: 15.00\r\n        }, {\r\n          name: null,\r\n          y: 25.00\r\n        }]\r\n      }]\r\n    };\r\n\r\n    var chart = $('#chart');\r\n\r\n    chart.highcharts(chartOptions);\r\n  }\r\n\r\n})();\r\n"],"file":"controllers/fm-portfolio-generator-controller/fm-portfolio-generator-controller.js","sourceRoot":"/source/"}